{"version":3,"sources":["webpack:///./src/components/ActiveJobsList.js","webpack:///./src/pages/ledige-stillinger.js"],"names":["ActiveJobsList","props","className","Object","keys","activelist","data","map","item","key","width","height","src","logo","name","startDate","ingress","to","applyUrl","LedigeStillinger","useState","activeJobs","setActiveJobs","dataIsLoading","setDataIsLoading","init","fetch","proxy","method","then","res","json","catch","err","console","log","useEffect"],"mappings":"yKAmCeA,EAhCQ,SAACC,GACtB,OACE,kBAAC,IAAD,CAASC,UAAU,YAChBC,OAAOC,KAAKH,EAAMI,WAAWC,MAAMC,KAAI,SAACC,GACvC,OACE,yBAAKC,IAAKR,EAAMI,WAAWC,KAAKE,GAAON,UAAU,kBAC/C,4BAAQA,UAAU,QAChB,6BACE,yBACEQ,MAAM,OACNC,OAAO,OACPC,IAAKX,EAAMI,WAAWC,KAAKE,GAAMK,QAGrC,gCAAYX,UAAU,iBACpB,wBAAIA,UAAU,eACXD,EAAMI,WAAWC,KAAKE,GAAMM,MAE/B,yBAAKZ,UAAU,qBACb,4CAAkBD,EAAMI,WAAWC,KAAKE,GAAMO,WAC9C,wCAAcd,EAAMI,WAAWC,KAAKE,GAAMQ,SAC1C,kBAAC,IAAD,CAAMC,GAAIhB,EAAMI,WAAWC,KAAKE,GAAMU,UAAtC,8BCsBHC,UA3CU,WAAO,IAAD,EACOC,qBAA7BC,EADsB,KACVC,EADU,OAEaF,oBAAS,GAA5CG,EAFsB,KAEPC,EAFO,KAkBvBC,EAAO,WATJC,MAFMC,yLAEM,CACjBC,OAAQ,QAEPC,MAAK,SAACC,GACL,OAAOA,EAAIC,UAEZC,OAAM,SAACC,GAAD,OAASC,QAAQC,IAAIF,MAIXJ,MAAK,SAACvB,GACnBiB,IACFD,EAAchB,GACdkB,GAAiB,QAWvB,OALAY,qBAAU,WAER,OADAX,IACO,eACN,IAGD,kBAAC,IAAD,KACE,6BACEF,EAA2D,yBAAKrB,UAAU,eAAc,2CAAxE,kBAAC,EAAD,CAAeG,WAAYgB","file":"component---src-pages-ledige-stillinger-js-14ba7bd68afe131718f3.js","sourcesContent":["import React from \"react\"\nimport Masonry from \"react-masonry-component\"\nimport {Link} from 'gatsby'\nconst ActiveJobsList = (props) => {\n  return (\n    <Masonry className='showcase'>\n      {Object.keys(props.activelist.data).map((item) => {\n        return (\n          <div key={props.activelist.data[item]} className='showcase__item'>\n            <figure className='card'>\n              <div>\n                <img\n                  width='100%'\n                  height='auto'\n                  src={props.activelist.data[item].logo}\n                />\n              </div>\n              <figcaption className='card__caption'>\n                <h1 className='card__title'>\n                  {props.activelist.data[item].name}\n                </h1>\n                <div className='card__description'>\n                  <p> Start Date : {props.activelist.data[item].startDate}</p>\n                  <p> Salary : {props.activelist.data[item].ingress}</p>\n                  <Link to={props.activelist.data[item].applyUrl}>Søk på stillingen</Link>\n                </div>\n              </figcaption>\n            </figure>\n          </div>\n        )\n      })}\n    </Masonry>\n  )\n}\n\nexport default ActiveJobsList\n","import React, { useEffect, useState } from \"react\"\nimport Layout from \"../components/layout\"\nimport ActiveJobList from \"../components/ActiveJobsList\"\nconst LedigeStillinger = () => {\n  const [activeJobs, setActiveJobs] = useState()\n  const [dataIsLoading, setDataIsLoading] = useState(true)\n\n  const getAllActiveJobs = (req, res) => {\n    const proxy = \"https://cors-anywhere.herokuapp.com/\"\n    const api = `https://api.recman.no/v2/get/?key=${process.env.GATSBY_API_KEY}&scope=jobPost&fields=name,ingress,startDate,endDate,logo`\n    const url =  proxy + api\n\n    return fetch( url, {\n      method: \"GET\",\n    })\n      .then((res) => {\n        return res.json()\n      })\n      .catch((err) => console.log(err))\n  }\n\n  const init = () => {\n    getAllActiveJobs().then((data) => {\n      if (dataIsLoading) {\n        setActiveJobs(data)\n        setDataIsLoading(false)\n      }\n    })\n  }\n\n\n  useEffect(() => {\n    init()\n    return () => {}\n  }, [])\n\n  return (\n    <Layout>\n      <div>\n      {!dataIsLoading ? <ActiveJobList activelist={activeJobs}/> : <div className=\"loading-div\"><h1>Loading...</h1></div>}\n      </div>\n\n    </Layout>\n  )\n}\n\nexport default LedigeStillinger\n"],"sourceRoot":""}