{"version":3,"sources":["webpack:///./src/pages/for-ansatte.js"],"names":["ForAnsatte","useState","activeJobs","setActiveJobs","init","fetch","proxyurl","method","then","res","json","catch","err","console","log","data","useEffect","showActiveJobs","Object","keys","map","item","className","key","jobId","candidateId"],"mappings":"2FAAA,4CAmDeA,UAhDI,WAAO,IAAD,EACaC,qBAA7BC,EADgB,KACJC,EADI,KAejBC,EAAO,WARJC,MAAMC,+KAAgB,CAC3BC,OAAQ,QAEPC,MAAK,SAACC,GACL,OAAOA,EAAIC,UAEZC,OAAM,SAACC,GAAD,OAASC,QAAQC,IAAIF,MAGXJ,MAAK,SAACO,GACvBZ,EAAcY,OAKlBC,qBAAU,WAER,OADAZ,IACO,eACN,IAEH,IAAMa,EAAiB,WACrB,IAAIf,EASF,OAAO,uDARPgB,OAAOC,KAAKjB,EAAWa,MAAMK,KAAI,SAACC,GAChC,OACE,yBAAKC,UAAU,iBAAiBC,IAAKrB,EAAWa,KAAKM,GAAMG,OACxDtB,EAAWa,KAAKM,GAAMI,iBASnC,OAAO,kBAAC,IAAD,KAASR,EAAgBJ,QAAQC,IAAIZ","file":"component---src-pages-for-ansatte-js-38e33361e62841419b36.js","sourcesContent":["import React, { useEffect, useState } from \"react\"\nimport Layout from \"../components/layout\"\n\nconst ForAnsatte = () => {\n  const [activeJobs, setActiveJobs] = useState()\n\n  const getAllActiveJobs = (req, res) => {\n    const proxyurl = \"https://cors-anywhere.herokuapp.com/\"\n    const url =`https://api.recman.no/v2/get/?key=${process.env.GATSBY_API_KEY}&scope=job&fields=name,startDate,endDate,salary`\n\n    return fetch(proxyurl + url, {\n      method: \"GET\",\n    })\n      .then((res) => {\n        return res.json()\n      })\n      .catch((err) => console.log(err))\n  }\n  const init = () => {\n    getAllActiveJobs().then((data) => {\n      setActiveJobs(data)\n      \n    })\n  }\n\n  useEffect(() => {\n    init()\n    return () => {}\n  }, [])\n\n  const showActiveJobs = () => {\n    if (activeJobs) {\n      Object.keys(activeJobs.data).map((item) => {\n        return (\n          <div className='container__job' key={activeJobs.data[item].jobId}>\n            {activeJobs.data[item].candidateId}\n          </div>\n        )\n      })\n    } else {\n      return <h1> Error please try later</h1>\n    }\n  }\n\nreturn <Layout>{showActiveJobs}{console.log(activeJobs)}</Layout>\n}\n/*      {activeJobs.data\n        ? Object.keys(activeJobs.data).forEach((item) => {\n            return <div key={item.name}>{item.name}</div>\n          })\n        : \"Loading...\"}  );*/\nexport default ForAnsatte\n"],"sourceRoot":""}