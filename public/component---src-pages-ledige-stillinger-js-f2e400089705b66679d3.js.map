{"version":3,"sources":["webpack:///./src/components/ActiveJobsList.js","webpack:///./src/pages/ledige-stillinger.js"],"names":["ActiveJobsList","props","className","Object","keys","activelist","data","map","item","key","name","startDate","salary","LedigeStillinger","useState","activeJobs","setActiveJobs","dataIsLoading","setDataIsLoading","init","fetch","proxyurl","method","then","res","json","catch","err","console","log","useEffect"],"mappings":"6JA0BeA,EAxBQ,SAACC,GACtB,OACE,kBAAC,IAAD,CAASC,UAAU,YAChBC,OAAOC,KAAKH,EAAMI,WAAWC,MAAMC,KAAI,SAACC,GACvC,OACE,yBAAKC,IAAKR,EAAMI,WAAWC,KAAKE,GAAON,UAAU,kBAC/C,4BAAQA,UAAU,QAChB,gCAAYA,UAAU,iBACpB,wBAAIA,UAAU,eACXD,EAAMI,WAAWC,KAAKE,GAAME,MAE/B,yBAAKR,UAAU,qBACb,4CAAkBD,EAAMI,WAAWC,KAAKE,GAAMG,WAC9C,wCAAcV,EAAMI,WAAWC,KAAKE,GAAMI,iBC8B7CC,UA1CU,WAAO,IAAD,EACOC,qBAA7BC,EADsB,KACVC,EADU,OAEaF,oBAAS,GAA5CG,EAFsB,KAEPC,EAFO,KAiBvBC,EAAO,WATJC,MAAMC,+KAAgB,CAC3BC,OAAQ,QAEPC,MAAK,SAACC,GACL,OAAOA,EAAIC,UAEZC,OAAM,SAACC,GAAD,OAASC,QAAQC,IAAIF,MAIXJ,MAAK,SAACjB,GACnBW,IACFD,EAAcV,GACdY,GAAiB,QAWvB,OALAY,qBAAU,WAER,OADAX,IACO,eACN,IAGD,kBAAC,IAAD,KACE,6BACEF,EAA2D,0CAA3C,kBAAC,EAAD,CAAeZ,WAAYU","file":"component---src-pages-ledige-stillinger-js-f2e400089705b66679d3.js","sourcesContent":["import React from \"react\"\nimport Masonry from \"react-masonry-component\"\nconst ActiveJobsList = (props) => {\n  return (\n    <Masonry className='showcase'>\n      {Object.keys(props.activelist.data).map((item) => {\n        return (\n          <div key={props.activelist.data[item]} className='showcase__item'>\n            <figure className='card'>\n              <figcaption className='card__caption'>\n                <h1 className='card__title'>\n                  {props.activelist.data[item].name}\n                </h1>\n                <div className='card__description'>\n                  <p> Start Date : {props.activelist.data[item].startDate}</p>\n                  <p> Salary : {props.activelist.data[item].salary}</p>\n                </div>\n              </figcaption>\n            </figure>\n          </div>\n        )\n      })}\n    </Masonry>\n  )\n}\n\nexport default ActiveJobsList\n","import React, { useEffect, useState } from \"react\"\nimport Layout from \"../components/layout\"\nimport ActiveJobList from \"../components/ActiveJobsList\"\nconst LedigeStillinger = () => {\n  const [activeJobs, setActiveJobs] = useState()\n  const [dataIsLoading, setDataIsLoading] = useState(true)\n\n  const getAllActiveJobs = (req, res) => {\n    const proxyurl = \"https://cors-anywhere.herokuapp.com/\"\n    const url = `https://api.recman.no/v2/get/?key=${process.env.GATSBY_API_KEY}&scope=job&fields=name,startDate,endDate,salary`\n\n    return fetch(proxyurl + url, {\n      method: \"GET\",\n    })\n      .then((res) => {\n        return res.json()\n      })\n      .catch((err) => console.log(err))\n  }\n\n  const init = () => {\n    getAllActiveJobs().then((data) => {\n      if (dataIsLoading) {\n        setActiveJobs(data)\n        setDataIsLoading(false)\n      }\n    })\n  }\n\n\n  useEffect(() => {\n    init()\n    return () => {}\n  }, [])\n\n  return (\n    <Layout>\n      <div>\n      {!dataIsLoading ? <ActiveJobList activelist={activeJobs}/> : <h1>Loading...</h1>}\n      </div>\n\n    </Layout>\n  )\n}\n\nexport default LedigeStillinger\n"],"sourceRoot":""}